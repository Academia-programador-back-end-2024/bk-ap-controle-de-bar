@model ControleDeBar.Model.Comanda

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Comanda</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Cliente)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Cliente.Id)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Mesa)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Mesa.Id)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Garcom)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Garcom.Id)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.DataDeAbertura)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.DataDeAbertura)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.DataDeEncerramento)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.DataDeEncerramento)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Pago)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Pago)
        </dd>
    </dl>
</div>

<h3>Consumos</h3>
<table class="table table-striped mb-3">
    <thead>
    <tr>
        <th>Produto</th>
        <th>Quantidade</th>
        <th>Ações</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var consumo in Model.Consumos)
    {
        <tr>
            <td>@consumo.Produto.Nome</td>
            <td>@consumo.Quantidade</td>

            <td>
                Edição e Exclusões
                @* <a href="@Url.Action("EditarConsumo", new { id = consumo.Id })" class="btn btn-warning btn-sm">Editar</a> *@
                @* <form method="post" action="@Url.Action("ExcluirConsumo", new { id = consumo.Id })" class="d-inline">
                    <button type="submit" class="btn btn-danger btn-sm">Excluir</button>
                </form> *@
            </td>
        </tr>
    }
    </tbody>
</table>

@* <h4>Adicionar Consumo</h4>
<form method="post" action="@Url.Action("AdicionarConsumo")">
    <input type="hidden" name="comandaId" value="@Model.Id" />
    <div class="form-group">
        <label for="produtoId">Produto</label>
        <select name="produtoId" class="form-control">
            @foreach (var produto in ViewBag.Produtos as List<Produto>)
            {
                <option value="@produto.Id">@produto.Nome</option>
            }
        </select>
    </div>
    <div class="form-group">
        <label for="quantidade">Quantidade</label>
        <input type="number" name="quantidade" class="form-control" />
    </div>
    <button type="submit" class="btn btn-primary">Adicionar</button>
</form> *@

<div>
    <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
